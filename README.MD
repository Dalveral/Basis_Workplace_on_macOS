# Установка и запуск Basis.WorkSpace через Wine / Crossover

## Принцип работы

Приложение **Basis.WorkSpace** можно установить в **Wine** или **Crossover** стандартным способом - установка проходит без проблем. После авторизации при запуске приложение выдаёт ошибку, так как в среде Wine отсутствует системное приложение `mstsc.exe`.

Можно создать заглушку (пустой файл `mstsc.exe`), однако это не решает проблему.

Сейчас реализовано рабочее решение:

- Запуск подключения к удалённому рабочему столу происходит через заглушку `mstsc.exe`;
- В корень диска `C:` (в среде Wine / Crossover) копируется `.rdp` файл;
- Мы запускаем этот `.rdp` файл уже на macOS. открывается `Windows App`, вводим логин и пароль, и подключение успешно устанавливается.

---

## Порядок установки

### 1. Установка основных приложений:
 - [https://apps.apple.com/ru/app/windows-app/id1295203466?mt=12
Windows App](Windows App)
 - [https://go.dev/dl/](Golang)
 - [https://www.codeweavers.com/crossover/download](Crossover)

### 2. Сборка `mstsc.exe` под Windows
В терминале выполните команду:
```bash
env GOOS=windows GOARCH=amd64 go build -o mstsc.exe mstsc_stub.go
```

### 3. Установка Wine / Crossover
- Создайте новую бутылку (bottle) **Windows 11 x64**.

### 4. Установка Basis.WorkSpace
Установите приложение в бутылку стандартным способом, согласно вашей документации.

### 5. Размещение заглушки `mstsc.exe`
Скопируйте собранный файл в каталог:
```
C:/windows/system32
```

### 6. Авторизация и запуск `.rdp`-файла
- Авторизуйтесь в Basis.WorkSpace.  
- Откройте диск `C:` в бутылке — там будет создан `.rdp` файл.  
- Запустите этот файл, введите логин и пароль.  
- Подключение к удалённому рабочему столу установится успешно.
